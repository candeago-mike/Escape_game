<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Explorateur PC simulé</title>
    <style>
      body {
        margin: 0;
        font-family: Arial, sans-serif;
        background: #2e2e2e;
        color: #fff;
      }

      #desktop {
        width: 100vw;
        height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      #explorer {
        width: 800px;
        height: 500px;
        background: #1e1e1e;
        border: 2px solid #555;
        display: flex;
        border-radius: 6px;
        overflow: hidden;
        box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
      }

      #folders {
        width: 200px;
        background: #333;
        padding: 10px;
        overflow-y: auto;
      }

      #folders ul {
        list-style: none;
        padding: 0;
        margin: 0;
      }

      #folders li {
        padding: 6px 10px;
        margin-bottom: 4px;
        background: #444;
        border-radius: 4px;
        cursor: pointer;
      }

      #folders li:hover {
        background: #555;
      }

      #content {
        flex: 1;
        padding: 10px;
        background: #222;
        display: flex;
        flex-wrap: wrap;
        gap: 15px;
        align-content: flex-start;
        overflow-y: auto;
      }

      .file {
        width: 80px;
        text-align: center;
        cursor: pointer;
      }

      .file img {
        width: 50px;
        height: 50px;
        display: block;
        margin: 0 auto 5px;
      }

      .file span {
        display: block;
        font-size: 12px;
        word-wrap: break-word;
      }
    </style>
  </head>
  <body>
    <div id="desktop">
      <div id="explorer">
        <div id="folders">
          <ul id="folderList"></ul>
        </div>
        <div id="content"></div>
      </div>
    </div>

    <script>
      // Structure de fichiers simulée avec sous-dossiers
      const fileSystem = {
        Documents: {
          type: "folder",
          content: {
            "CV.pdf": {
              type: "file",
              icon: "https://img.icons8.com/color/48/000000/pdf.png",
            },
            "Projet.docx": {
              type: "file",
              icon: "https://img.icons8.com/color/48/000000/word.png",
            },
            "Notes.txt": {
              type: "file",
              icon: "https://img.icons8.com/ios/50/ffffff/notepad.png",
            },
          },
        },
        Images: {
          type: "folder",
          content: {
            "photo1.jpg": {
              type: "file",
              icon: "https://img.icons8.com/ios-filled/50/ffffff/image.png",
            },
            "photo2.png": {
              type: "file",
              icon: "https://img.icons8.com/ios-filled/50/ffffff/image.png",
            },
            Dessins: {
              type: "folder",
              content: {
                "dessin1.svg": {
                  type: "file",
                  icon: "https://img.icons8.com/ios-filled/50/ffffff/image.png",
                },
              },
            },
          },
        },
        Musique: {
          type: "folder",
          content: {
            "chanson.mp3": {
              type: "file",
              icon: "https://img.icons8.com/ios-filled/50/ffffff/musical-notes.png",
            },
          },
        },
      };

      const folderList = document.getElementById("folderList");
      const content = document.getElementById("content");
      let currentFolder = fileSystem;

      function renderFolders() {
        folderList.innerHTML = "";
        for (const folder in fileSystem) {
          const li = document.createElement("li");
          li.textContent = folder;
          li.addEventListener("dblclick", () => {
            currentFolder = fileSystem[folder].content;
            renderContent(currentFolder);
          });
          folderList.appendChild(li);
        }
      }

      function renderContent(folder) {
        content.innerHTML = "";
        for (const name in folder) {
          const item = folder[name];
          const div = document.createElement("div");
          div.className = "file";
          const img = document.createElement("img");
          const span = document.createElement("span");
          span.textContent = name;

          if (item.type === "folder") {
            img.src =
              "https://img.icons8.com/ios-filled/50/ffffff/folder-invoices.png";
            div.addEventListener("dblclick", () => renderContent(item.content));
          } else {
            img.src = item.icon;
            div.addEventListener("dblclick", () =>
              alert(`Ouverture simulée de "${name}"`)
            );
          }

          div.appendChild(img);
          div.appendChild(span);
          content.appendChild(div);
        }
      }

      // Initialisation
      renderFolders();
      renderContent(currentFolder);
    </script>
  </body>
</html>
